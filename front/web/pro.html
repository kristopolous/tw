<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>Alice Bob</title>

    <link href="css/bootstrap.min.css" rel="stylesheet">

    <link href="css/tw.css" rel="stylesheet">
    <link href='css/font-awesome.min.css' rel='stylesheet'>
    <link href='http://fonts.googleapis.com/css?family=Chau+Philomene+One' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
    a{cursor:pointer}
    .content { margin-bottom: 2em }
    .content img {box-shadow: 0 0 1px 1px black}
    .header { margin-top: 3em;margin-bottom: 3em }
    .buttons {
      margin-left: -1em;
    }
    .buttons div {
      width: 12em;
      display: inline-block;
    }
    .buttons i {
      display: inline-block;
      width: 1em;
    }
    .social {
      font-size: 18px;
      margin-left: 10px;
    }
    .social a {
      font-weight: normal;
      display: inline-block; 
      text-align: center;
      width: 1.5em;
      border-radius: 4px;
      border: 1px solid rgba(216,216,255,0.9);
      margin: 0.35em 0.20em; }
    </style>
  </head>

  <body>

    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href='/' class="navbar-brand"><i class="fa fa-hand-peace-o"></i> Two Words</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li id='header-find'><a href="/find"><b><i class="fa fa-search"></i> Find It</b></span></a></li>
            <li id='header-found'><a href="/found"><i class="fa fa-bullhorn"></i> Found it</a></li>
            <li class='active'><a href="/pro"><i class="fa fa-money"></i> Go Pro</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#app">Get The App</a></li>
            <li><a data-toggle="modal" data-target="#dialog-login">Log in</a></li>
          </ul>
        </div>
      </div>
    </nav>

    TODO: add mock screen shots
    <div class="container">
      <div id="ep-pro" class='endpoint'>
        <p>Do you run a mobile business?  Are you looking to increase your sales?</p>

        <h2>Know your customers.</h2>
          <p>Be notified when people search for your product, where they are, and opening a dialog with them.</p>
          <p>Know what else people search for when they search your product so you know how to situate yourself in the marketplace.</p>
          <p>Notify nearby customers who are interested in your product where you are.</p>
          <p>Communicate directly to your customers.</p>

        <h2>Know your competition.</h2>
          <p>A dashboard with heatmaps telling you when and where people historically want what you sell.</p>
          <p>See whether they found what they were looking for and how happy they were with it.</p>
          <p>Know where there's an opening, and where there's a market saturation.</p>

        <h2>Know your business.</h2>
          <p>Get estimates on the expected return, risk and time to actualize so you know when its time to move on.</p>
          <p>See the market analytics on greener pastures and know where the best ones are.</p>
          <p>Find out about the price sensitivity of your customers so you know how your sales will be impacted by your pricing decisions</p>
        <div class='row'>
         <div class="col-md-12">
           <div class="panel panel-default">
             <div class="panel-heading"><h3>DeepInsight + CustomerDragnet + $5 AdWords/month</h3></div>
             <div class="panel-body">
              <p>Get all 3 below</p>
              <h3><button class='btn btn-primary'>Grow my business</button><small><s>$65</s>$49.95/month</small></h3>
             </div>
           </div>
         </div>
        </div>
        <div class='row deals'>
         <div class="col-md-4">
           <div class="panel panel-default">
             <div class="panel-heading"><h3>DeepInsight</h3></div>
             <div class="panel-body">
               Real-time Analytics.
               <p>Free for 14 days.</p>
               <h3 class='price'><button class='btn btn-primary'>Get Deep Insight</button> <small>for $39.95/month</small></h3>
             </div>
           </div>
         </div>
         <div class="col-md-4">
           <div class="panel panel-default">
             <div class="panel-heading"><h3>CustomerDragnet</h3></div>
             <div class="panel-body">
               <p>Notify nearby customers interested in your product
               Be "always on" and registered</p>
               <h3 class='price'><button class='btn btn-primary'>Get More Customers</button> <small>for $19.99/month</small></h3>
             </div>
           </div>
         </div>
         <div class="col-md-4">
           <div class="panel panel-default">
             <div class="panel-heading"><h3>AdWords</h3></div>
             <div class="panel-body">
               <p>Be the first result for customers within reach.
               Restrict them to the hours that you are in business.</p>
               <h3 class='price'><button class='btn btn-primary'>Sell More</button> starting at $1</h3>
             </div>
           </div>
         </div>
        </div>

      </div>

    </div>

    <footer>
      <p><b>Made with &#9829;</b> &copy; Two Words 2015</p>
    </footer>

    <div id="dialog">
      <div class="modal fade" id="dialog-login">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title">Log in</h4>
            </div>
            <div class="modal-body text-center">
              <p><button type='button' class='btn btn-lg btn-default'><i class="fa fa-facebook-square"></i> Log in with Facebook</button></p>
              <p><button type='button' class='btn btn-lg btn-default'><i class="fa fa-twitter-square"></i> Log in with Twitter</button></p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            </div>
          </div>
        </div>
      </div>

    <script src='//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/evda.min.js"></script>

    <script src="/js/socket.io/socket.io.js"></script>
    <script src="/js/ie10-viewport-bug-workaround.js"></script>
    <script>
    var last_hash;
    var Tpl = {}, test_data = [
    ];

    /*
    var socket = io.connect('http://localhost');
    socket.on('news', function (data) {
      console.log(data);
      socket.emit('my other event', { my: 'data' });
    });
    */

    function generate(data_list) {
      $("#result-list").empty();
      _.each(data_list, function(row) {
        $("#result-list").append( Tpl.result(row) );
      });
    }

    $(function(){

      $("#template").children().each(function() {
        var key = this.id.replace(/^tpl-/,'');
        Tpl[key] = _.template(this.innerHTML);
      });

      generate(test_data);

      $('#found-button,#header-found').click(function(){
        $("#top-level-buttons").hide();
        $("#found-input").focus();
      });

      $('#discover-button,#header-find').click(function(){
        $("#top-level-buttons").hide();
        $("#discover-input").focus();
      });
    });

    setInterval(function(){
      $(".time").each(function(){
        var delta = (new Date()) - parseInt(this.getAttribute('data'), 10);
        if (delta < 180) {
          this.innerHTML = delta + " seconds ago."
        } else if (delta / 60 < 90) {
          this.innerHTML = Math.floor(delta / 60) + " minutes ago."
        } else {
          this.innerHTML = Math.floor(delta / 3600) + " hours ago."
        }
      });
    }, 1000);

    function geo_error() {
      alert("Sorry, no position available.");
    }

  function success(position) {
    var latitude  = position.coords.latitude;
    var longitude = position.coords.longitude;

    output.innerHTML = '<p>Latitude is ' + latitude + '° <br>Longitude is ' + longitude + '°</p>';

    var img = new Image();
    img.src = "https://maps.googleapis.com/maps/api/staticmap?center=" + latitude + "," + longitude + "&zoom=13&size=300x300&sensor=false";

    output.appendChild(img);
  };
  setInterval(function(){
    var my_hash = window.location.hash.slice(1);

    if(last_hash != my_hash && my_hash) {
      $(".endpoint").hide();
      $("#ep-" + my_hash).show();
      $('a[href="#' + my_hash + '"]').parent().addClass('active').siblings().removeClass('active');
      last_hash = my_hash;
    }
  }, 150);

    if ("geolocation" in navigator) {
    /*

      // This is snagged from https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/Using_geolocation
      var geo_options = {
        enableHighAccuracy: true, 
        maximumAge        : 30000, 
        timeout           : 27000
      };

      var wpid = navigator.geolocation.watchPosition(geo_success, geo_error, geo_options);

      var watchID = navigator.geolocation.watchPosition(function(position) {
        do_something(position.coords.latitude, position.coords.longitude);
      });
      */
    } else {
      $("#no-gps").slideDown();
    }
    </script>
  </body>
</html>
